from pwn import *
R = remote('challenges.traboda.com', 30840)

#level-1
R.recvuntil("What is the capital of Spain?\n\n")
R.sendline('madrid')

#level-2
R.recvuntil("Who painted 'Starry Night' ?\n\n")
R.sendline('vincent van gogh')

#level-3
R.recvuntil("Who is the father of Computer Science?\n\n")
R.sendline('alan turing')


#level-4
R.recvuntil("a) Find their mean!\n\n")
info = R.recv()
info1 = info.decode('utf-8').replace('\n'," ")
info2 = info1.replace('\t',"").replace('>',"")
marks = info2.split(' ')

summ = 0
marks = [i for i in marks if i.isdigit()]

for mark in marks:
	mark = int(mark)
	summ += mark
	
mean = round(summ/len(marks))
R.sendline(str(mean))


#level-5
R.recvuntil('''Great!
	b) If''')
data = R.recv()

number = []
for word in data.split():
   word = word.decode('utf-8')
   if word.isdigit():
      number.append(int(word))

new_studmark = ((mean*(len(marks)+int(number[0])))-summ)
R.sendline(str(new_studmark))


#level-6
R.recvuntil('''Here are five numbers. You need to input the numbers in an increasing order!
The numbers are: ''')
num_data = R.recv()

num_data1 = num_data.decode('utf-8').replace('\n'," ")
#print(num_data1)
asc_data = num_data1.split(' ')


asc_data = [i for i in asc_data if i.isdigit()]
#print(asc_data)

asc_lst = []
for n in asc_data:
	n = int(n)
	asc_lst.append(n)


asc_lst = sorted(asc_lst, reverse = False) 
#print(asc_lst)
asc = ' '.join([str(e) for e in asc_lst])
R.sendline(' ' + str(asc))



#Sublevel-1
R.recvuntil("Here's a hint too: When do you know that your cipher is decoded and is correct?\n")
R.sendline('bqxosnz@RBHH^oq0ms3ak2|\n')

#Sublevel-2
R.recvuntil("Hint: Blaise Pascal? --> Cipher?\n")

	


